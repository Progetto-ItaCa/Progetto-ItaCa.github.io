\documentclass[a3paper]{article}
\usepackage{luacode}
% \input{lay-gen.tex}
\begin{document}
A
\begin{luacode}
  require("lualibs.lua")
  local layout = io.open('./lay.json')
  local layjsonstring = layout:read('*a')
  layout:close()
  local layjsondata =  utilities.json.tolua(layjsonstring)
  for key, value in pairs(layjsondata) do
    if value["id"] == "a3" then 
        tex.print('this is it ' .. value["preamble"][2])
    end
  end
\end{luacode}
% % == HEADER ============================================================
% \input{a3src/a3header.tex}
% % == BODY ==============================================================
% \input{lua-gen.tex}
% % == FOOTER ============================================================
% \input{a3src/a3footer.tex} 
\end{document}
